<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dockerå®‰è£… | Aismy&#39;Docs</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="Aismy&#39;Docs">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.906cd319.css" as="style"><link rel="preload" href="/assets/js/app.b738e2cf.js" as="script"><link rel="preload" href="/assets/js/2.ffb45a81.js" as="script"><link rel="preload" href="/assets/js/35.da833d69.js" as="script"><link rel="prefetch" href="/assets/js/10.c2e0087a.js"><link rel="prefetch" href="/assets/js/11.515afe89.js"><link rel="prefetch" href="/assets/js/12.fab2a176.js"><link rel="prefetch" href="/assets/js/13.001935e7.js"><link rel="prefetch" href="/assets/js/14.b80dbf2e.js"><link rel="prefetch" href="/assets/js/15.1b1059f6.js"><link rel="prefetch" href="/assets/js/16.fcd1537c.js"><link rel="prefetch" href="/assets/js/17.9df6cc33.js"><link rel="prefetch" href="/assets/js/18.bd3b4e60.js"><link rel="prefetch" href="/assets/js/19.c0b3ce9a.js"><link rel="prefetch" href="/assets/js/20.546547fb.js"><link rel="prefetch" href="/assets/js/21.0692e109.js"><link rel="prefetch" href="/assets/js/22.941054f1.js"><link rel="prefetch" href="/assets/js/23.6a79feac.js"><link rel="prefetch" href="/assets/js/24.d7b40265.js"><link rel="prefetch" href="/assets/js/25.2f068444.js"><link rel="prefetch" href="/assets/js/26.39e773a6.js"><link rel="prefetch" href="/assets/js/27.0cc11d71.js"><link rel="prefetch" href="/assets/js/28.6e0bab80.js"><link rel="prefetch" href="/assets/js/29.aa305b1a.js"><link rel="prefetch" href="/assets/js/3.166f9e48.js"><link rel="prefetch" href="/assets/js/30.a9437cbd.js"><link rel="prefetch" href="/assets/js/31.d2300f1b.js"><link rel="prefetch" href="/assets/js/32.30060633.js"><link rel="prefetch" href="/assets/js/33.ddd9f9e8.js"><link rel="prefetch" href="/assets/js/34.102c62c1.js"><link rel="prefetch" href="/assets/js/36.b4b83ef9.js"><link rel="prefetch" href="/assets/js/37.a549e9e3.js"><link rel="prefetch" href="/assets/js/38.e84bf93e.js"><link rel="prefetch" href="/assets/js/39.145b375f.js"><link rel="prefetch" href="/assets/js/4.2988106a.js"><link rel="prefetch" href="/assets/js/40.246cd152.js"><link rel="prefetch" href="/assets/js/41.530026b3.js"><link rel="prefetch" href="/assets/js/42.24a60b39.js"><link rel="prefetch" href="/assets/js/43.902a7b0b.js"><link rel="prefetch" href="/assets/js/44.4f8c78f2.js"><link rel="prefetch" href="/assets/js/5.58eac4fd.js"><link rel="prefetch" href="/assets/js/6.d50e78bb.js"><link rel="prefetch" href="/assets/js/7.977fe42a.js"><link rel="prefetch" href="/assets/js/8.289b9caf.js"><link rel="prefetch" href="/assets/js/9.6a3fba9d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.906cd319.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Aismy'Docs" class="logo"> <span class="site-name can-hide">Aismy'Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><a href="https://www.aismy.top" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ“•åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸµJava SE" class="dropdown-title"><a href="/pages/389d93/" class="link-title">ğŸµJava SE</a> <span class="title" style="display:none;">ğŸµJava SE</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/389d93/" class="nav-link">JavaåŸºç¡€</a></li><li class="dropdown-item"><!----> <a href="/pages/aab896/" class="nav-link">é›†åˆ</a></li><li class="dropdown-item"><!----> <a href="/pages/d2a30d/" class="nav-link">IOæµ</a></li><li class="dropdown-item"><!----> <a href="/pages/780f7d/" class="nav-link">æ³¨è§£å’Œåå°„</a></li><li class="dropdown-item"><!----> <a href="/pages/8d2bfc/" class="nav-link">å¹¶å‘ç¼–ç¨‹</a></li><li class="dropdown-item"><!----> <a href="/pages/e9d599/" class="nav-link">JVM</a></li><li class="dropdown-item"><!----> <a href="/pages/467393/" class="nav-link">æ–°ç‰¹æ€§</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸŒ´æ•°æ®åº“" class="dropdown-title"><a href="/pages/142be7/" class="link-title">ğŸŒ´æ•°æ®åº“</a> <span class="title" style="display:none;">ğŸŒ´æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/142be7/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/pages/1ce2e2/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/62a615/" class="nav-link">ElasticSearch</a></li></ul></div></div><div class="nav-item"><a href="/pages/1b02d4/" class="nav-link">ğŸš€åç«¯æ¡†æ¶</a></div><div class="nav-item"><a href="/pages/1fe252/" class="nav-link">ğŸš€å‰ç«¯æŠ€æœ¯</a></div><div class="nav-item"><a href="/pages/83c955/" aria-current="page" class="nav-link router-link-exact-active router-link-active">ğŸ› ï¸å¼€å‘å·¥å…·</a></div> <a href="https://github.com/Aismy/aismy.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><a href="https://www.aismy.top" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ“•åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸµJava SE" class="dropdown-title"><a href="/pages/389d93/" class="link-title">ğŸµJava SE</a> <span class="title" style="display:none;">ğŸµJava SE</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/389d93/" class="nav-link">JavaåŸºç¡€</a></li><li class="dropdown-item"><!----> <a href="/pages/aab896/" class="nav-link">é›†åˆ</a></li><li class="dropdown-item"><!----> <a href="/pages/d2a30d/" class="nav-link">IOæµ</a></li><li class="dropdown-item"><!----> <a href="/pages/780f7d/" class="nav-link">æ³¨è§£å’Œåå°„</a></li><li class="dropdown-item"><!----> <a href="/pages/8d2bfc/" class="nav-link">å¹¶å‘ç¼–ç¨‹</a></li><li class="dropdown-item"><!----> <a href="/pages/e9d599/" class="nav-link">JVM</a></li><li class="dropdown-item"><!----> <a href="/pages/467393/" class="nav-link">æ–°ç‰¹æ€§</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸŒ´æ•°æ®åº“" class="dropdown-title"><a href="/pages/142be7/" class="link-title">ğŸŒ´æ•°æ®åº“</a> <span class="title" style="display:none;">ğŸŒ´æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/142be7/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/pages/1ce2e2/" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/pages/62a615/" class="nav-link">ElasticSearch</a></li></ul></div></div><div class="nav-item"><a href="/pages/1b02d4/" class="nav-link">ğŸš€åç«¯æ¡†æ¶</a></div><div class="nav-item"><a href="/pages/1fe252/" class="nav-link">ğŸš€å‰ç«¯æŠ€æœ¯</a></div><div class="nav-item"><a href="/pages/83c955/" aria-current="page" class="nav-link router-link-exact-active router-link-active">ğŸ› ï¸å¼€å‘å·¥å…·</a></div> <a href="https://github.com/Aismy/aismy.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/4855b0/" class="sidebar-link">Dockerå®ç”¨ç¯‡</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/4855b0/#_1-1-ä»€ä¹ˆæ˜¯docker" class="sidebar-link">1.1.ä»€ä¹ˆæ˜¯Docker</a></li><li class="sidebar-sub-header level2"><a href="/pages/4855b0/#_1-2-dockerå’Œè™šæ‹Ÿæœºçš„åŒºåˆ«" class="sidebar-link">1.2.Dockerå’Œè™šæ‹Ÿæœºçš„åŒºåˆ«</a></li><li class="sidebar-sub-header level2"><a href="/pages/4855b0/#_1-3-dockeræ¶æ„" class="sidebar-link">1.3.Dockeræ¶æ„</a></li><li class="sidebar-sub-header level2"><a href="/pages/4855b0/#_1-4-å®‰è£…docker" class="sidebar-link">1.4.å®‰è£…Docker</a></li><li class="sidebar-sub-header level2"><a href="/pages/4855b0/#_2-1-é•œåƒæ“ä½œ" class="sidebar-link">2.1.é•œåƒæ“ä½œ</a></li><li class="sidebar-sub-header level2"><a href="/pages/4855b0/#_2-2-å®¹å™¨æ“ä½œ" class="sidebar-link">2.2.å®¹å™¨æ“ä½œ</a></li><li class="sidebar-sub-header level2"><a href="/pages/4855b0/#_2-3-æ•°æ®å·-å®¹å™¨æ•°æ®ç®¡ç†" class="sidebar-link">2.3.æ•°æ®å·ï¼ˆå®¹å™¨æ•°æ®ç®¡ç†ï¼‰</a></li><li class="sidebar-sub-header level2"><a href="/pages/4855b0/#_3-1-é•œåƒç»“æ„" class="sidebar-link">3.1.é•œåƒç»“æ„</a></li><li class="sidebar-sub-header level2"><a href="/pages/4855b0/#_3-2-dockerfileè¯­æ³•" class="sidebar-link">3.2.Dockerfileè¯­æ³•</a></li><li class="sidebar-sub-header level2"><a href="/pages/4855b0/#_3-3-æ„å»ºjavaé¡¹ç›®" class="sidebar-link">3.3.æ„å»ºJavaé¡¹ç›®</a></li><li class="sidebar-sub-header level2"><a href="/pages/4855b0/#_3-4-å°ç»“" class="sidebar-link">3.4.å°ç»“</a></li><li class="sidebar-sub-header level2"><a href="/pages/4855b0/#_4-1-åˆè¯†dockercompose" class="sidebar-link">4.1.åˆè¯†DockerCompose</a></li><li class="sidebar-sub-header level2"><a href="/pages/4855b0/#_4-2-å®‰è£…dockercompose" class="sidebar-link">4.2.å®‰è£…DockerCompose</a></li><li class="sidebar-sub-header level2"><a href="/pages/4855b0/#_4-3-éƒ¨ç½²å¾®æœåŠ¡é›†ç¾¤" class="sidebar-link">4.3.éƒ¨ç½²å¾®æœåŠ¡é›†ç¾¤</a></li><li class="sidebar-sub-header level2"><a href="/pages/4855b0/#_5-1-æ­å»ºç§æœ‰é•œåƒä»“åº“" class="sidebar-link">5.1.æ­å»ºç§æœ‰é•œåƒä»“åº“</a></li><li class="sidebar-sub-header level2"><a href="/pages/4855b0/#_5-2-æ¨é€ã€æ‹‰å–é•œåƒ" class="sidebar-link">5.2.æ¨é€ã€æ‹‰å–é•œåƒ</a></li></ul></li><li><a href="/pages/83c955/" aria-current="page" class="active sidebar-link">Dockerå®‰è£…</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/83c955/#ä¸€ã€dockerå¸¸ç”¨å‘½ä»¤" class="sidebar-link">ä¸€ã€Dockerå¸¸ç”¨å‘½ä»¤</a></li><li class="sidebar-sub-header level2"><a href="/pages/83c955/#äºŒã€centoså®‰è£…docker" class="sidebar-link">äºŒã€CentOSå®‰è£…Docker</a></li><li class="sidebar-sub-header level2"><a href="/pages/83c955/#ä¸‰ã€centos7å®‰è£…dockercompose" class="sidebar-link">ä¸‰ã€CentOS7å®‰è£…DockerCompose</a></li><li class="sidebar-sub-header level2"><a href="/pages/83c955/#å››ã€dockeré•œåƒä»“åº“" class="sidebar-link">å››ã€Dockeré•œåƒä»“åº“</a></li><li class="sidebar-sub-header level2"><a href="/pages/83c955/#äº”ã€dockerå®‰è£…nacos" class="sidebar-link">äº”ã€Dockerå®‰è£…nacos</a></li><li class="sidebar-sub-header level2"><a href="/pages/83c955/#å…­ã€dockerå®‰è£…redis" class="sidebar-link">å…­ã€Dockerå®‰è£…redis</a></li><li class="sidebar-sub-header level2"><a href="/pages/83c955/#ä¸ƒã€dockerå®‰è£…nginx" class="sidebar-link">ä¸ƒã€Dockerå®‰è£…nginx</a></li><li class="sidebar-sub-header level2"><a href="/pages/83c955/#å…«ã€dockerå®‰è£…es" class="sidebar-link">å…«ã€Dockerå®‰è£…es</a></li><li class="sidebar-sub-header level2"><a href="/pages/83c955/#ä¹ã€dockerå®‰è£…rabbitmq" class="sidebar-link">ä¹ã€Dockerå®‰è£…rabbitmq</a></li><li class="sidebar-sub-header level2"><a href="/pages/83c955/#åã€dockerå®‰è£…mysql" class="sidebar-link">åã€dockerå®‰è£…mysql</a></li></ul></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>å¼€å‘å·¥å…·</span></li></ul> <div class="info" data-v-06225672><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06225672><a href="https://www.aismy.top" target="_blank" title="ä½œè€…" class="beLink" data-v-06225672>Aismy</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-03-10</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">Dockerå®‰è£…<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="ä¸€ã€dockerå¸¸ç”¨å‘½ä»¤"><a href="#ä¸€ã€dockerå¸¸ç”¨å‘½ä»¤" class="header-anchor">#</a> ä¸€ã€Dockerå¸¸ç”¨å‘½ä»¤</h2> <h3 id="_1-dockeråŸºç¡€å‘½ä»¤"><a href="#_1-dockeråŸºç¡€å‘½ä»¤" class="header-anchor">#</a> 1.DockeråŸºç¡€å‘½ä»¤</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment">#å¯åŠ¨docker</span>
systemctl start <span class="token function">docker</span>
<span class="token comment">#å…³é—­docker</span>
systemctl stop <span class="token function">docker</span>
<span class="token comment">#é‡å¯docker</span>
systemctl restart <span class="token function">docker</span>
<span class="token comment">#dockerå¼€æœºè‡ªå¯</span>
systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
<span class="token comment">#æŸ¥çœ‹docker è¿è¡ŒçŠ¶æ€</span>
systemctl status <span class="token function">docker</span>
<span class="token comment">#æŸ¥çœ‹docker ç‰ˆæœ¬å·ä¿¡æ¯</span>
<span class="token function">docker</span> version
<span class="token function">docker</span> info
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_2-docker-é•œåƒå‘½ä»¤"><a href="#_2-docker-é•œåƒå‘½ä»¤" class="header-anchor">#</a> 2.docker é•œåƒå‘½ä»¤</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment">#æŸ¥çœ‹è‡ªå·±æœåŠ¡å™¨ä¸­dockeré•œåƒåˆ—è¡¨</span>
<span class="token function">docker</span> images
<span class="token comment">#æœç´¢é•œåƒ</span>
<span class="token function">docker</span> search é•œåƒå
<span class="token function">docker</span> search <span class="token parameter variable">--filter</span><span class="token operator">=</span>STARS<span class="token operator">=</span><span class="token number">9000</span> mysql <span class="token comment">#æœç´¢ STARS &gt;9000çš„ mysql é•œåƒ</span>
<span class="token comment">#æ‹‰å–é•œåƒ ä¸åŠ tag(ç‰ˆæœ¬å·) å³æ‹‰å–dockerä»“åº“ä¸­ è¯¥é•œåƒçš„æœ€æ–°ç‰ˆæœ¬latest åŠ :tag åˆ™æ˜¯æ‹‰å–æŒ‡å®šç‰ˆæœ¬</span>
<span class="token function">docker</span> pull é•œåƒå 
<span class="token function">docker</span> pull é•œåƒå:tag
<span class="token comment">#è¿è¡Œé•œåƒ </span>
<span class="token function">docker</span> run é•œåƒå
<span class="token function">docker</span> run é•œåƒå:Tag
<span class="token comment">#åˆ é™¤é•œåƒ</span>
<span class="token function">docker</span> rmi <span class="token parameter variable">-f</span> é•œåƒå/é•œåƒID  <span class="token comment">#åˆ é™¤ä¸€ä¸ª</span>
<span class="token function">docker</span> rmi <span class="token parameter variable">-f</span> é•œåƒå/é•œåƒID é•œåƒå/é•œåƒID é•œåƒå/é•œåƒID  <span class="token comment">#åˆ é™¤å¤šä¸ª å…¶é•œåƒIDæˆ–é•œåƒç”¨ç”¨ç©ºæ ¼éš”å¼€å³å¯ </span>
<span class="token comment">#åˆ é™¤å…¨éƒ¨é•œåƒ  -a æ„æ€ä¸ºæ˜¾ç¤ºå…¨éƒ¨, -q æ„æ€ä¸ºåªæ˜¾ç¤ºID</span>
<span class="token function">docker</span> rmi <span class="token parameter variable">-f</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> images <span class="token parameter variable">-aq</span><span class="token variable">)</span></span>
<span class="token comment">#ä¿å­˜é•œåƒ--å¯¼å‡ºçš„ä¸€èˆ¬ä¸º.taræ–‡ä»¶</span>
<span class="token function">docker</span> save <span class="token parameter variable">-o</span> <span class="token punctuation">[</span>ä¿å­˜çš„ç›®æ ‡æ–‡ä»¶åç§°<span class="token punctuation">]</span> <span class="token punctuation">[</span>é•œåƒåç§°<span class="token punctuation">]</span>
<span class="token comment">#åŠ è½½é•œåƒ</span>
<span class="token function">docker</span> load <span class="token parameter variable">-i</span> <span class="token punctuation">[</span>é•œåƒä¿å­˜æ–‡ä»¶ä½ç½®<span class="token punctuation">]</span>
<span class="token comment">#æ ¹æ®ç°æœ‰é•œåƒåˆ›å»ºæŒ‡å®šæ ‡ç­¾çš„ä¸€ä¸ªé•œåƒ-- å¦‚æœçœç•¥TAG åˆ™ä¼šä¸ºé•œåƒé»˜è®¤æ‰“ä¸Šlatest TAG</span>
<span class="token function">docker</span> tag åŸé•œåƒå:TAG æƒ³è¦ç”Ÿæˆæ–°çš„é•œåƒå:æ–°çš„TAG

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="_3-docker-å®¹å™¨å‘½ä»¤"><a href="#_3-docker-å®¹å™¨å‘½ä»¤" class="header-anchor">#</a> 3.docker å®¹å™¨å‘½ä»¤</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment">#æŸ¥çœ‹æ­£åœ¨è¿è¡Œå®¹å™¨åˆ—è¡¨---åé¢åŠ -aå‚æ•°æŸ¥çœ‹æ‰€æœ‰å®¹å™¨</span>
<span class="token function">docker</span> <span class="token function">ps</span> /docker <span class="token function">ps</span> <span class="token parameter variable">-a</span>
<span class="token comment">#åœæ­¢å®¹å™¨</span>
<span class="token function">docker</span> stop å®¹å™¨å/å®¹å™¨ID
<span class="token comment">#åˆ é™¤å®¹å™¨</span>
<span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> å®¹å™¨å/å®¹å™¨ID <span class="token comment">#åˆ é™¤ä¸€ä¸ªå®¹å™¨</span>
<span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> å®¹å™¨å/å®¹å™¨ID å®¹å™¨å/å®¹å™¨ID å®¹å™¨å/å®¹å™¨ID  <span class="token comment">#åˆ é™¤å¤šä¸ªå®¹å™¨ ç©ºæ ¼éš”å¼€è¦åˆ é™¤çš„å®¹å™¨åæˆ–å®¹å™¨ID</span>
<span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-aq</span><span class="token variable">)</span></span> <span class="token comment">#åˆ é™¤å…¨éƒ¨å®¹å™¨</span>
<span class="token comment">#é‡å¯å®¹å™¨</span>
<span class="token function">docker</span> restart å®¹å™¨ID/å®¹å™¨å
<span class="token comment">#å¯åŠ¨å®¹å™¨</span>
<span class="token function">docker</span> start å®¹å™¨ID/å®¹å™¨å
<span class="token comment">#kill å®¹å™¨</span>
<span class="token function">docker</span> <span class="token function">kill</span> å®¹å™¨ID/å®¹å™¨å
<span class="token comment">#åœ¨å®¹å™¨å’Œæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¹‹é—´å¤åˆ¶æ–‡ä»¶/æ–‡ä»¶ â€”æ— è®ºå®¹å™¨æ˜¯å¦å¼€å¯ éƒ½å¯ä»¥è¿›è¡Œæ‹·è´</span>
<span class="token function">docker</span> <span class="token function">cp</span> å®¹å™¨ID/åç§°: å®¹å™¨å†…è·¯å¾„  å®¹å™¨å¤–è·¯å¾„  <span class="token comment">#ä»å®¹å™¨å†… æ‹·å‡º</span>
<span class="token function">docker</span> <span class="token function">cp</span> å®¹å™¨å¤–è·¯å¾„ å®¹å™¨ID/åç§°: å®¹å™¨å†…è·¯å¾„ <span class="token comment">#ä»å¤–éƒ¨ æ‹·è´æ–‡ä»¶åˆ°å®¹å™¨å†…</span>
<span class="token comment">#æŸ¥çœ‹å®¹å™¨æ—¥å¿—  -fæŒç»­æŸ¥çœ‹æ—¥å¿—  --tail=è¦æŸ¥çœ‹æœ«å°¾å¤šå°‘è¡Œ é»˜è®¤all </span>
<span class="token function">docker</span> logs <span class="token parameter variable">-f</span> å®¹å™¨ID
<span class="token comment">#æ›´æ¢å®¹å™¨å</span>
<span class="token function">docker</span> <span class="token function">rename</span> å®¹å™¨ID/å®¹å™¨å æ–°å®¹å™¨å
<span class="token comment">#æ›´æ–°å®¹å™¨é…ç½®</span>
doccker update <span class="token parameter variable">--restart</span><span class="token operator">=</span>alaways å®¹å™¨ID/å®¹å™¨å
<span class="token comment">#ç®¡ç†å®¹å™¨</span>
<span class="token function">docker</span> container  COMMAND
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><strong>docker execï¼šåœ¨æ­£åœ¨è¿è¡Œçš„å®¹å™¨ä¸­è¿è¡Œå‘½ä»¤</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Usage:  <span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER COMMAND <span class="token punctuation">[</span>ARG<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
Options:
  -d, <span class="token parameter variable">--detach</span>           Detached mode: run <span class="token builtin class-name">command</span> <span class="token keyword">in</span> the background
     --detach-keys string   Override the key sequence <span class="token keyword">for</span> detaching a container
  -e, <span class="token parameter variable">--env</span> list          Set environment variables
      --env-file list     Read <span class="token keyword">in</span> a <span class="token function">file</span> of environment variables
  -i, <span class="token parameter variable">--interactive</span>        Keep STDIN <span class="token function">open</span> even <span class="token keyword">if</span> not attached
      <span class="token parameter variable">--privileged</span>       Give extended privileges to the <span class="token builtin class-name">command</span>
  -t, <span class="token parameter variable">--tty</span>             Allocate a pseudo-TTY
  -u, <span class="token parameter variable">--user</span> string        Username or <span class="token environment constant">UID</span> <span class="token punctuation">(</span>format: <span class="token operator">&lt;</span>name<span class="token operator">|</span>uid<span class="token operator">&gt;</span><span class="token punctuation">[</span>:<span class="token operator">&lt;</span>group<span class="token operator">|</span>gid<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  -w, <span class="token parameter variable">--workdir</span> string      Working directory inside the container
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>docker exec -it cname /bin/bash</p> <ul><li><p>docker exec ï¼šè¿›å…¥å®¹å™¨å†…éƒ¨ï¼Œæ‰§è¡Œä¸€ä¸ªå‘½ä»¤</p></li> <li><p>-it : ç»™å½“å‰è¿›å…¥çš„å®¹å™¨åˆ›å»ºä¸€ä¸ªæ ‡å‡†è¾“å…¥ã€è¾“å‡ºç»ˆç«¯ï¼Œå…è®¸æˆ‘ä»¬ä¸å®¹å™¨äº¤äº’</p></li> <li><p>cnameï¼šè¦è¿›å…¥çš„å®¹å™¨çš„åç§°</p></li> <li><p>/bin/bashï¼šè¿›å…¥å®¹å™¨åæ‰§è¡Œçš„å‘½ä»¤ï¼Œbashæ˜¯ä¸€ä¸ªlinuxç»ˆç«¯äº¤äº’å‘½ä»¤</p></li></ul> <p><strong>docker run: è¿è¡Œä¸€ä¸ªæ–°çš„å®¹å™¨</strong></p> <p>å¸¸ç”¨å‚æ•°ï¼š</p> <ul><li>--name  å®¹å™¨åç§°</li> <li>-e/--env  è®¾ç½®å®¹å™¨å¯åŠ¨çš„ä¸€äº›ç¯å¢ƒå˜é‡</li> <li>-p ç«¯å£æ˜ å°„</li> <li>-v æŒ‚è½½ç›®å½•æˆ–æ•°æ®å·</li> <li>--restart  è®¾ç½®Dockeré‡å¯æ—¶å®¹å™¨çš„å¯åŠ¨ç­–ç•¥ï¼Œé»˜è®¤ä¸ºnoï¼Œæ¨èä¿®æ”¹ä¸ºalways</li></ul> <h2 id="äºŒã€centoså®‰è£…docker"><a href="#äºŒã€centoså®‰è£…docker" class="header-anchor">#</a> äºŒã€CentOSå®‰è£…Docker</h2> <p>Docker åˆ†ä¸º CE å’Œ EE ä¸¤å¤§ç‰ˆæœ¬ã€‚CE å³ç¤¾åŒºç‰ˆï¼ˆå…è´¹ï¼Œæ”¯æŒå‘¨æœŸ 7 ä¸ªæœˆï¼‰ï¼ŒEE å³ä¼ä¸šç‰ˆï¼Œå¼ºè°ƒå®‰å…¨ï¼Œä»˜è´¹ä½¿ç”¨ï¼Œæ”¯æŒå‘¨æœŸ 24 ä¸ªæœˆã€‚</p> <p>Docker CE åˆ†ä¸º <code>stable</code> <code>test</code> å’Œ <code>nightly</code> ä¸‰ä¸ªæ›´æ–°é¢‘é“ã€‚</p> <p>å®˜æ–¹ç½‘ç«™ä¸Šæœ‰å„ç§ç¯å¢ƒä¸‹çš„ <a href="https://docs.docker.com/install/" target="_blank" rel="noopener noreferrer">å®‰è£…æŒ‡å—<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œè¿™é‡Œä¸»è¦ä»‹ç» Docker CE åœ¨ CentOSä¸Šçš„å®‰è£…ã€‚</p> <p>Docker CE æ”¯æŒ 64 ä½ç‰ˆæœ¬ CentOS 7ï¼Œå¹¶ä¸”è¦æ±‚å†…æ ¸ç‰ˆæœ¬ä¸ä½äº 3.10ï¼Œ CentOS 7 æ»¡è¶³æœ€ä½å†…æ ¸çš„è¦æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨CentOS 7å®‰è£…Dockerã€‚</p> <h3 id="å¸è½½-å¯é€‰"><a href="#å¸è½½-å¯é€‰" class="header-anchor">#</a> å¸è½½ï¼ˆå¯é€‰ï¼‰</h3> <p>å¦‚æœä¹‹å‰å®‰è£…è¿‡æ—§ç‰ˆæœ¬çš„Dockerï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢å‘½ä»¤å¸è½½ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yum remove docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-selinux \
                  docker-engine-selinux \
                  docker-engine \
                  docker-ce
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="å®‰è£…docker"><a href="#å®‰è£…docker" class="header-anchor">#</a> å®‰è£…docker</h3> <p>é¦–å…ˆéœ€è¦å¤§å®¶è™šæ‹Ÿæœºè”ç½‘ï¼Œå®‰è£…yumå·¥å…·</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils <span class="token punctuation">\</span>
           device-mapper-persistent-data <span class="token punctuation">\</span>
           lvm2 --skip-broken
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ç„¶åæ›´æ–°æœ¬åœ°é•œåƒæºï¼š</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># è®¾ç½®dockeré•œåƒæº</span>
yum-config-manager <span class="token punctuation">\</span>
    --add-repo <span class="token punctuation">\</span>
    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
    
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">'s/download.docker.com/mirrors.aliyun.com\/docker-ce/g'</span> /etc/yum.repos.d/docker-ce.repo

yum makecache fast
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>ç„¶åè¾“å…¥å‘½ä»¤ï¼š</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> docker-ce
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>docker-ceä¸ºç¤¾åŒºå…è´¹ç‰ˆæœ¬ã€‚ç¨ç­‰ç‰‡åˆ»ï¼Œdockerå³å¯å®‰è£…æˆåŠŸã€‚</p> <h3 id="å¯åŠ¨docker"><a href="#å¯åŠ¨docker" class="header-anchor">#</a> å¯åŠ¨docker</h3> <p>Dockeråº”ç”¨éœ€è¦ç”¨åˆ°å„ç§ç«¯å£ï¼Œé€ä¸€å»ä¿®æ”¹é˜²ç«å¢™è®¾ç½®ã€‚éå¸¸éº»çƒ¦ï¼Œå› æ­¤å»ºè®®å¤§å®¶ç›´æ¥å…³é—­é˜²ç«å¢™ï¼</p> <p>å¯åŠ¨dockerå‰ï¼Œä¸€å®šè¦å…³é—­é˜²ç«å¢™åï¼ï¼</p> <p>å¯åŠ¨dockerå‰ï¼Œä¸€å®šè¦å…³é—­é˜²ç«å¢™åï¼ï¼</p> <p>å¯åŠ¨dockerå‰ï¼Œä¸€å®šè¦å…³é—­é˜²ç«å¢™åï¼ï¼</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># å…³é—­</span>
systemctl stop firewalld
<span class="token comment"># ç¦æ­¢å¼€æœºå¯åŠ¨é˜²ç«å¢™</span>
systemctl disable firewalld
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>é€šè¿‡å‘½ä»¤å¯åŠ¨dockerï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>systemctl start <span class="token function">docker</span>  <span class="token comment"># å¯åŠ¨dockeræœåŠ¡</span>

systemctl stop <span class="token function">docker</span>  <span class="token comment"># åœæ­¢dockeræœåŠ¡</span>

systemctl restart <span class="token function">docker</span>  <span class="token comment"># é‡å¯dockeræœåŠ¡</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ç„¶åè¾“å…¥å‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹dockerç‰ˆæœ¬ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker -v
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å¦‚å›¾ï¼š</p> <p><img src="http://img.aismy.top/img/image-20210418154704436.png" alt="image-20210418154704436"></p> <h3 id="é…ç½®é•œåƒåŠ é€Ÿ"><a href="#é…ç½®é•œåƒåŠ é€Ÿ" class="header-anchor">#</a> é…ç½®é•œåƒåŠ é€Ÿ</h3> <p>dockerå®˜æ–¹é•œåƒä»“åº“ç½‘é€Ÿè¾ƒå·®ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®å›½å†…é•œåƒæœåŠ¡ï¼š</p> <p>å‚è€ƒé˜¿é‡Œäº‘çš„é•œåƒåŠ é€Ÿæ–‡æ¡£ï¼šhttps://cr.console.aliyun.com/cn-hangzhou/instances/mirrors</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo mkdir -p /etc/docker

sudo tee /etc/docker/daemon.json &lt;&lt;-'EOF'
{
  &quot;registry-mirrors&quot;: [&quot;https://qyr5mya8.mirror.aliyuncs.com&quot;]
}
EOF

sudo systemctl daemon-reload

sudo systemctl restart docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="ä¸‰ã€centos7å®‰è£…dockercompose"><a href="#ä¸‰ã€centos7å®‰è£…dockercompose" class="header-anchor">#</a> ä¸‰ã€CentOS7å®‰è£…DockerCompose</h2> <h3 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="header-anchor">#</a> ä¸‹è½½</h3> <p>Linuxä¸‹éœ€è¦é€šè¿‡å‘½ä»¤ä¸‹è½½ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># å®‰è£…</span>
<span class="token function">curl</span> <span class="token parameter variable">-L</span> https://github.com/docker/compose/releases/download/1.23.1/docker-compose-<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> <span class="token parameter variable">-s</span><span class="token variable">`</span></span>-<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> <span class="token parameter variable">-m</span><span class="token variable">`</span></span> <span class="token operator">&gt;</span> /usr/local/bin/docker-compose
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å¦‚æœä¸‹è½½é€Ÿåº¦è¾ƒæ…¢ï¼Œæˆ–è€…ä¸‹è½½å¤±è´¥ï¼Œå¯ä»¥ä½¿ç”¨è¯¾å‰èµ„æ–™æä¾›çš„docker-composeæ–‡ä»¶ï¼š</p> <p><img src="http://img.aismy.top/img/image-20210417133020614.png" alt="image-20210417133020614"></p> <p>ä¸Šä¼ åˆ°<code>/usr/local/bin/</code>ç›®å½•ä¹Ÿå¯ä»¥ã€‚</p> <h3 id="ä¿®æ”¹æ–‡ä»¶æƒé™"><a href="#ä¿®æ”¹æ–‡ä»¶æƒé™" class="header-anchor">#</a> ä¿®æ”¹æ–‡ä»¶æƒé™</h3> <p>ä¿®æ”¹æ–‡ä»¶æƒé™ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># ä¿®æ”¹æƒé™</span>
<span class="token function">chmod</span> +x /usr/local/bin/docker-compose
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="baseè‡ªåŠ¨è¡¥å…¨å‘½ä»¤"><a href="#baseè‡ªåŠ¨è¡¥å…¨å‘½ä»¤" class="header-anchor">#</a> Baseè‡ªåŠ¨è¡¥å…¨å‘½ä»¤ï¼š</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># è¡¥å…¨å‘½ä»¤</span>
<span class="token function">curl</span> <span class="token parameter variable">-L</span> https://raw.githubusercontent.com/docker/compose/1.29.1/contrib/completion/bash/docker-compose <span class="token operator">&gt;</span> /etc/bash_completion.d/docker-compose
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å¦‚æœè¿™é‡Œå‡ºç°é”™è¯¯ï¼Œéœ€è¦ä¿®æ”¹è‡ªå·±çš„hostsæ–‡ä»¶ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;199.232.68.133 raw.githubusercontent.com&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/hosts
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="å››ã€dockeré•œåƒä»“åº“"><a href="#å››ã€dockeré•œåƒä»“åº“" class="header-anchor">#</a> å››ã€Dockeré•œåƒä»“åº“</h2> <p>æ­å»ºé•œåƒä»“åº“å¯ä»¥åŸºäºDockerå®˜æ–¹æä¾›çš„DockerRegistryæ¥å®ç°ã€‚</p> <p>å®˜ç½‘åœ°å€ï¼šhttps://hub.docker.com/_/registry</p> <h3 id="ç®€åŒ–ç‰ˆé•œåƒä»“åº“"><a href="#ç®€åŒ–ç‰ˆé•œåƒä»“åº“" class="header-anchor">#</a> ç®€åŒ–ç‰ˆé•œåƒä»“åº“</h3> <p>Dockerå®˜æ–¹çš„Docker Registryæ˜¯ä¸€ä¸ªåŸºç¡€ç‰ˆæœ¬çš„Dockeré•œåƒä»“åº“ï¼Œå…·å¤‡ä»“åº“ç®¡ç†çš„å®Œæ•´åŠŸèƒ½ï¼Œä½†æ˜¯æ²¡æœ‰å›¾å½¢åŒ–ç•Œé¢ã€‚</p> <p>æ­å»ºæ–¹å¼æ¯”è¾ƒç®€å•ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token punctuation">\</span>
    <span class="token parameter variable">--name</span> registry	<span class="token punctuation">\</span>
    <span class="token parameter variable">-p</span> <span class="token number">5000</span>:5000 <span class="token punctuation">\</span>
    <span class="token parameter variable">-v</span> registry-data:/var/lib/registry <span class="token punctuation">\</span>
    registry
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>å‘½ä»¤ä¸­æŒ‚è½½äº†ä¸€ä¸ªæ•°æ®å·registry-dataåˆ°å®¹å™¨å†…çš„/var/lib/registry ç›®å½•ï¼Œè¿™æ˜¯ç§æœ‰é•œåƒåº“å­˜æ”¾æ•°æ®çš„ç›®å½•ã€‚</p> <p>è®¿é—®http://YourIp:5000/v2/_catalog å¯ä»¥æŸ¥çœ‹å½“å‰ç§æœ‰é•œåƒæœåŠ¡ä¸­åŒ…å«çš„é•œåƒ</p> <h3 id="å¸¦æœ‰å›¾å½¢åŒ–ç•Œé¢ç‰ˆæœ¬"><a href="#å¸¦æœ‰å›¾å½¢åŒ–ç•Œé¢ç‰ˆæœ¬" class="header-anchor">#</a> å¸¦æœ‰å›¾å½¢åŒ–ç•Œé¢ç‰ˆæœ¬</h3> <p>ä½¿ç”¨DockerComposeéƒ¨ç½²å¸¦æœ‰å›¾è±¡ç•Œé¢çš„DockerRegistryï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.0'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">registry</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> registry
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./registry<span class="token punctuation">-</span>data<span class="token punctuation">:</span>/var/lib/registry
  <span class="token key atrule">ui</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> joxit/docker<span class="token punctuation">-</span>registry<span class="token punctuation">-</span>ui<span class="token punctuation">:</span>static
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8080<span class="token punctuation">:</span><span class="token number">80</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> REGISTRY_TITLE=ä¼ æ™ºæ•™è‚²ç§æœ‰ä»“åº“
      <span class="token punctuation">-</span> REGISTRY_URL=http<span class="token punctuation">:</span>//registry<span class="token punctuation">:</span><span class="token number">5000</span>
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> registry
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="é…ç½®dockerä¿¡ä»»åœ°å€"><a href="#é…ç½®dockerä¿¡ä»»åœ°å€" class="header-anchor">#</a> é…ç½®Dockerä¿¡ä»»åœ°å€</h3> <p>æˆ‘ä»¬çš„ç§æœé‡‡ç”¨çš„æ˜¯httpåè®®ï¼Œé»˜è®¤ä¸è¢«Dockerä¿¡ä»»ï¼Œæ‰€ä»¥éœ€è¦åšä¸€ä¸ªé…ç½®ï¼š</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># æ‰“å¼€è¦ä¿®æ”¹çš„æ–‡ä»¶</span>
<span class="token function">vi</span> /etc/docker/daemon.json
<span class="token comment"># æ·»åŠ å†…å®¹ï¼š</span>
<span class="token string">&quot;insecure-registries&quot;</span>:<span class="token punctuation">[</span><span class="token string">&quot;http://192.168.150.101:8080&quot;</span><span class="token punctuation">]</span>
<span class="token comment"># é‡åŠ è½½</span>
systemctl daemon-reload
<span class="token comment"># é‡å¯docker</span>
systemctl restart <span class="token function">docker</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="äº”ã€dockerå®‰è£…nacos"><a href="#äº”ã€dockerå®‰è£…nacos" class="header-anchor">#</a> äº”ã€Dockerå®‰è£…nacos</h2> <h3 id="æ‹‰å–é•œåƒ"><a href="#æ‹‰å–é•œåƒ" class="header-anchor">#</a> æ‹‰å–é•œåƒ</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> pull nacos/nacos-server
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="åˆ›å»ºå®¹å™¨å¹¶å¤åˆ¶ç›¸å…³æ–‡ä»¶"><a href="#åˆ›å»ºå®¹å™¨å¹¶å¤åˆ¶ç›¸å…³æ–‡ä»¶" class="header-anchor">#</a> åˆ›å»ºå®¹å™¨å¹¶å¤åˆ¶ç›¸å…³æ–‡ä»¶</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker run <span class="token operator">-</span>d <span class="token operator">-</span>p <span class="token number">8848</span><span class="token operator">:</span><span class="token number">8848</span> \
<span class="token operator">--</span>name nacos \
<span class="token operator">--</span>env <span class="token constant">MODE</span><span class="token operator">=</span>standalone \
nacos<span class="token operator">/</span>nacos<span class="token operator">-</span>server<span class="token operator">:</span>latest
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code># æŠŠå®¹å™¨ä¸­çš„ nacos æ–‡ä»¶å¤åˆ¶å‡ºæ¥<span class="token operator">--</span><span class="token operator">-</span>æ–¹ä¾¿åé¢æŒ‚è½½æ–‡ä»¶
docker cp <span class="token operator">-</span>a nacos<span class="token operator">:</span><span class="token operator">/</span>home<span class="token operator">/</span>nacos <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>

# åˆ é™¤ nacos å®¹å™¨
docker rm <span class="token operator">-</span>f nacos
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ä¹Ÿå¯è‡ªå·±ç›´æ¥åˆ›å»ºæ–‡ä»¶ï¼Œç„¶åè¿›è¡ŒæŒ‚è½½</p> <h3 id="å•æœºå¯åŠ¨"><a href="#å•æœºå¯åŠ¨" class="header-anchor">#</a> å•æœºå¯åŠ¨</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker run <span class="token operator">-</span>d <span class="token operator">-</span>p <span class="token number">8848</span><span class="token operator">:</span><span class="token number">8848</span> \
<span class="token operator">--</span>name nacos \
<span class="token operator">--</span>env <span class="token constant">MODE</span><span class="token operator">=</span>standalone \
<span class="token operator">-</span>v <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>nacos<span class="token operator">/</span>conf<span class="token operator">:</span><span class="token operator">/</span>home<span class="token operator">/</span>nacos<span class="token operator">/</span>conf \
<span class="token operator">-</span>v <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>nacos<span class="token operator">/</span>logs<span class="token operator">:</span><span class="token operator">/</span>home<span class="token operator">/</span>nacos<span class="token operator">/</span>logs \
<span class="token operator">-</span>v <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>nacos<span class="token operator">/</span>data<span class="token operator">:</span><span class="token operator">/</span>home<span class="token operator">/</span>nacos<span class="token operator">/</span>data \
nacos<span class="token operator">/</span>nacos<span class="token operator">-</span>server<span class="token operator">:</span>latest
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>å¯åŠ¨æˆåŠŸåè®¿é—® <code>http://127.0.0.1:8848/nacos/index.html</code> å³å¯ï¼Œé»˜è®¤æ˜¯è´¦å·å’Œå¯†ç éƒ½æ˜¯nacos</p> <h3 id="é›†ç¾¤å¯åŠ¨"><a href="#é›†ç¾¤å¯åŠ¨" class="header-anchor">#</a> é›†ç¾¤å¯åŠ¨</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker run <span class="token operator">-</span>d <span class="token operator">--</span>name nacos<span class="token operator">-</span>cluster <span class="token operator">-</span>p <span class="token number">8848</span><span class="token operator">:</span><span class="token number">8848</span> \
<span class="token operator">--</span>env <span class="token constant">NACOS_SERVERS</span><span class="token operator">=</span><span class="token number">192.168</span><span class="token number">.56</span><span class="token number">.102</span><span class="token punctuation">,</span><span class="token number">192.168</span><span class="token number">.56</span><span class="token number">.104</span><span class="token punctuation">,</span><span class="token number">192.168</span><span class="token number">.56</span><span class="token number">.105</span> \
<span class="token operator">--</span>env <span class="token constant">NACOS_SERVER_IP</span><span class="token operator">=</span><span class="token number">192.168</span><span class="token number">.56</span><span class="token number">.102</span> \
<span class="token operator">--</span>env <span class="token constant">SPRING_DATASOURCE_PLATFORM</span><span class="token operator">=</span>mysql \
<span class="token operator">--</span>env <span class="token constant">MYSQL_SERVICE_HOST</span><span class="token operator">=</span><span class="token number">192.168</span><span class="token number">.56</span><span class="token number">.103</span> \
<span class="token operator">--</span>env <span class="token constant">MYSQL_SERVICE_DB_NAME</span><span class="token operator">=</span>nacos \
<span class="token operator">--</span>env <span class="token constant">MYSQL_SERVICE_USER</span><span class="token operator">=</span>root \
<span class="token operator">--</span>env <span class="token constant">MYSQL_SERVICE_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> \
<span class="token operator">--</span>env <span class="token constant">MYSQL_DATABASE_NUM</span><span class="token operator">=</span><span class="token number">1</span> \
<span class="token operator">-</span>v <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>nacos<span class="token operator">/</span>conf<span class="token operator">:</span><span class="token operator">/</span>home<span class="token operator">/</span>nacos<span class="token operator">/</span>conf \
<span class="token operator">-</span>v <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>nacos<span class="token operator">/</span>logs<span class="token operator">:</span><span class="token operator">/</span>home<span class="token operator">/</span>nacos<span class="token operator">/</span>logs \
<span class="token operator">-</span>v <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>nacos<span class="token operator">/</span>data<span class="token operator">:</span><span class="token operator">/</span>home<span class="token operator">/</span>nacos<span class="token operator">/</span>data \
nacos<span class="token operator">/</span>nacos<span class="token operator">-</span>server<span class="token operator">:</span>latest 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>å‚æ•°è¯´æ˜ï¼š</p> <ul><li>NACOS_SERVERS : é›†ç¾¤èŠ‚ç‚¹ä¿¡æ¯</li> <li>NACOS_SERVER_IP : æœåŠ¡IPï¼Œå¤šç½‘å¡æ¨¡å¼ä¸‹å»ºè®®æŒ‡å®š</li> <li>SPRING_DATASOURCE_PLATFORM : ä½¿ç”¨æ•°æ®åº“ç±»å‹</li> <li>MYSQL_SERVICE_HOST : MySQLæ•°æ®åº“åœ°å€</li> <li>MYSQL_SERVICE_DB_NAME : æ•°æ®åº“åç§°</li> <li>MYSQL_SERVICE_DB_NAME : æ•°æ®åº“ç”¨æˆ·å</li> <li>MYSQL_SERVICE_PASSWORD : æ•°æ®åº“å¯†ç </li> <li>MYSQL_DATABASE_NUM : æ•°æ®åº“æ•°é‡ï¼Œé»˜è®¤å°±æ˜¯1ï¼Œå¯ä»¥ä¸å¡«å†™</li></ul> <h2 id="å…­ã€dockerå®‰è£…redis"><a href="#å…­ã€dockerå®‰è£…redis" class="header-anchor">#</a> å…­ã€Dockerå®‰è£…redis</h2> <h3 id="æ‹‰å–é•œåƒ-2"><a href="#æ‹‰å–é•œåƒ-2" class="header-anchor">#</a> æ‹‰å–é•œåƒ</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> pull redis
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="åˆ›å»ºæŒ‚è½½ç›®å½•"><a href="#åˆ›å»ºæŒ‚è½½ç›®å½•" class="header-anchor">#</a> åˆ›å»ºæŒ‚è½½ç›®å½•</h3> <p>æŒ‚è½½ç›®å½•æ—¶è‹¥æŒ‡å®šç›®å½•ä¸å­˜åœ¨åˆ™ä¸ç®¡æ˜¯å®¹å™¨å†…è¿˜æ˜¯å®¿ä¸»æœºéƒ½ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œä½†å¯¹äºæ–‡ä»¶è€Œè¨€ï¼Œå°±ä»¥redis.confä¸ºä¾‹ï¼Œè‹¥ä¸æå‰åˆ›å»ºï¼Œç›´æ¥è¿›è¡ŒæŒ‚è½½ï¼Œåˆ™ä¼šè‡ªåŠ¨å°†å…¶åˆ›å»ºä¸ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå› æ­¤éœ€è¦æ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶è¿›è¡ŒæŒ‚è½½</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>mkdir <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>redis
touch <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>redis<span class="token operator">/</span>redis<span class="token punctuation">.</span>conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="å¯åŠ¨å®¹å™¨"><a href="#å¯åŠ¨å®¹å™¨" class="header-anchor">#</a> å¯åŠ¨å®¹å™¨</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker run <span class="token operator">-</span>p <span class="token number">6506</span><span class="token operator">:</span><span class="token number">6506</span> <span class="token operator">--</span>name redis \
<span class="token operator">-</span>v <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>redis<span class="token operator">/</span>data<span class="token operator">:</span><span class="token operator">/</span>data \
<span class="token operator">-</span>v <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>redis<span class="token operator">/</span>conf<span class="token operator">/</span>redis<span class="token punctuation">.</span>conf<span class="token operator">:</span><span class="token operator">/</span>etc<span class="token operator">/</span>redis<span class="token operator">/</span>redis<span class="token punctuation">.</span>conf \
<span class="token operator">-</span>e appendonly<span class="token operator">=</span>yes \
<span class="token operator">-</span>d redis redis<span class="token operator">-</span>server <span class="token operator">/</span>etc<span class="token operator">/</span>redis<span class="token operator">/</span>redis<span class="token punctuation">.</span>conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="å‚æ•°è¯´æ˜"><a href="#å‚æ•°è¯´æ˜" class="header-anchor">#</a> å‚æ•°è¯´æ˜</h3> <ul><li>redis-server /etc/redis/redis.conf æŒ‡å®šrediså¯åŠ¨æ‰€éœ€çš„é…ç½®æ–‡ä»¶ï¼Œè€Œè¿™ä¸ªæ–‡ä»¶è¢«æˆ‘ä»¬æŒ‚è½½åˆ°äº†æœ¬æœºï¼Œå› æ­¤åªéœ€ä¿®æ”¹æœ¬æœºé…ç½®æ–‡ä»¶ç„¶åé‡å¯rediså°±èƒ½ç”Ÿæ•ˆ</li> <li>--appendonly yes å¼€å¯æŒä¹…åŒ–ï¼Œè‹¥åˆ›å»ºå®¹å™¨æ—¶ä¸æŒ‡å®šï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ·»åŠ åˆ°é…ç½®æ–‡ä»¶ä¸­å¼€å¯</li></ul> <p>rediså®Œæ•´è‡ªæè¿°æ–‡ä»¶ï¼š
https://raw.githubusercontent.com/antirez/redis/4.0/redis.conf</p> <p>ä¸Šè¿°å‘½ä»¤å¯åŠ¨åï¼Œredis.confæ–‡ä»¶æ˜¯ç©ºçš„ï¼Œéœ€è¦é…ç½®ä»€ä¹ˆä¿¡æ¯åªéœ€è¦æ ¹æ®ä¸Šè¿°å®Œæ•´è‡ªè¿°æ–‡ä»¶è¿›è¡Œé…ç½®å³å¯</p> <h3 id="å…¶ä»–æ“ä½œ"><a href="#å…¶ä»–æ“ä½œ" class="header-anchor">#</a> å…¶ä»–æ“ä½œ</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code> <span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> redis redis-cli
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>è¿æ¥åˆ°rediså®¢æˆ·ç«¯</p> <h2 id="ä¸ƒã€dockerå®‰è£…nginx"><a href="#ä¸ƒã€dockerå®‰è£…nginx" class="header-anchor">#</a> ä¸ƒã€Dockerå®‰è£…nginx</h2> <h3 id="æ‹‰å–é•œåƒ-3"><a href="#æ‹‰å–é•œåƒ-3" class="header-anchor">#</a> æ‹‰å–é•œåƒ</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker pull nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="åˆ›å»ºæŒ‚è½½ç›®å½•-2"><a href="#åˆ›å»ºæŒ‚è½½ç›®å½•-2" class="header-anchor">#</a> åˆ›å»ºæŒ‚è½½ç›®å½•</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>mkdir <span class="token operator">-</span>p <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>nginx<span class="token operator">/</span>conf
mkdir <span class="token operator">-</span>p <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>nginx<span class="token operator">/</span>log
mkdir <span class="token operator">-</span>p <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>nginx<span class="token operator">/</span>html
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>é™¤äº†åˆ›å»ºä¸Šé¢è¿™å‡ ä¸ªç›®å½•ï¼Œè¿˜éœ€è¦åˆ›å»ºä¸€ä¸ªnginx.confæ–‡ä»¶ï¼Œå¯ä»¥å…ˆåˆ›å»ºä¸€ä¸ªnginxå®¹å™¨ï¼Œå°†è¯¥æ–‡ä»¶å¤åˆ¶åˆ°å®¿ä¸»æœºï¼Œä¹Ÿå¯ä»¥ä»å¤–éƒ¨ä¸Šä¼ ã€‚è‹¥å‰ç«¯æ–‡ä»¶ä¸æ”¾åˆ°htmlé‡Œé¢åˆ™å¯ä»¥ä¸åˆ›å»ºè¿™ä¸ªç›®å½•ï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ªå­˜æ”¾é¡¹ç›®çš„ç›®å½•ï¼Œç„¶åæŒ‚è½½åˆ°å®¹å™¨ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶å³å¯ã€‚</p> <h3 id="å¯åŠ¨å®¹å™¨-2"><a href="#å¯åŠ¨å®¹å™¨-2" class="header-anchor">#</a> å¯åŠ¨å®¹å™¨</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker run <span class="token operator">-</span>p <span class="token number">80</span><span class="token operator">:</span><span class="token number">80</span> <span class="token operator">--</span>name nginx \
<span class="token operator">-</span>v <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>nginx<span class="token operator">/</span>conf<span class="token operator">/</span>nginx<span class="token punctuation">.</span>conf<span class="token operator">:</span><span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span>nginx<span class="token punctuation">.</span>conf \
<span class="token operator">-</span>v <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>nginx<span class="token operator">/</span>log<span class="token operator">:</span><span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>log<span class="token operator">/</span>nginx \
<span class="token operator">-</span>v <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>nginx<span class="token operator">/</span>html<span class="token operator">:</span><span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>nginx<span class="token operator">/</span>html \
<span class="token operator">-</span>d nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="å…«ã€dockerå®‰è£…es"><a href="#å…«ã€dockerå®‰è£…es" class="header-anchor">#</a> å…«ã€Dockerå®‰è£…es</h2> <h3 id="æ‹‰å–é•œåƒ-4"><a href="#æ‹‰å–é•œåƒ-4" class="header-anchor">#</a> æ‹‰å–é•œåƒ</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> pull elasticsearch:7.12.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="åˆ›å»ºæŒ‚è½½ç›®å½•-3"><a href="#åˆ›å»ºæŒ‚è½½ç›®å½•-3" class="header-anchor">#</a> åˆ›å»ºæŒ‚è½½ç›®å½•</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /home/docker/elasticsearch/config
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /home/docker/elasticsearch/data
<span class="token builtin class-name">echo</span> <span class="token string">&quot;network.host: 0.0.0.0&quot;</span> <span class="token operator">&gt;&gt;</span>/home/docker/elasticsearch/config/elasticsearch.yml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="ä¿®æ”¹æƒé™"><a href="#ä¿®æ”¹æƒé™" class="header-anchor">#</a> ä¿®æ”¹æƒé™</h3> <p>å› ä¸ºesä¸èƒ½ä½¿ç”¨rootç”¨æˆ·å¯åŠ¨ï¼Œå› æ­¤ä½¿ç”¨ä¸Šè¿°ç›®å½•çš„æƒé™åº”è¯¥å¯¹å…¶ä»–ç”¨æˆ·å¯è¯»å¯å†™æ‰è¡Œ</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">777</span> /home/docker/elasticsearch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="å¯åŠ¨å®¹å™¨-3"><a href="#å¯åŠ¨å®¹å™¨-3" class="header-anchor">#</a> å¯åŠ¨å®¹å™¨</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker run <span class="token operator">--</span>name elasticsearch <span class="token operator">-</span>p <span class="token number">9200</span><span class="token operator">:</span><span class="token number">9200</span> <span class="token operator">-</span>p <span class="token number">9300</span><span class="token operator">:</span><span class="token number">9300</span> \
<span class="token operator">-</span>e <span class="token string">&quot;discovery.type=single-node&quot;</span> <span class="token operator">-</span>e <span class="token constant">ES_JAVA_OPTS</span><span class="token operator">=</span><span class="token string">&quot;-Xms64m -Xmx256m&quot;</span> \ 
<span class="token operator">-</span>v<span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>elasticsearch<span class="token operator">/</span>config<span class="token operator">/</span>elasticsearch<span class="token punctuation">.</span>yml<span class="token operator">:</span><span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>elasticsearch<span class="token operator">/</span>config<span class="token operator">/</span>elasticsearch<span class="token punctuation">.</span>yml \
<span class="token operator">-</span>v <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>elasticsearch<span class="token operator">/</span>data<span class="token operator">:</span><span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>elasticsearch<span class="token operator">/</span>data \
<span class="token operator">-</span>v <span class="token operator">/</span>home<span class="token operator">/</span>docker<span class="token operator">/</span>elasticsearch<span class="token operator">/</span>plugins<span class="token operator">:</span><span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>elasticsearch<span class="token operator">/</span>plugins \
<span class="token operator">-</span>d elasticsearch<span class="token operator">:</span><span class="token number">7.12</span><span class="token number">.1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="å®‰è£…ikåˆ†è¯å™¨æ’ä»¶"><a href="#å®‰è£…ikåˆ†è¯å™¨æ’ä»¶" class="header-anchor">#</a> å®‰è£…ikåˆ†è¯å™¨æ’ä»¶</h3> <p>ä¸Šä¼ ikåˆ†è¯å™¨å‹ç¼©åŒ…åˆ°pluginsç›®å½•ä¸‹ç„¶åè§£å‹ï¼Œé‡å¯es</p> <h3 id="å®‰è£…kibana"><a href="#å®‰è£…kibana" class="header-anchor">#</a> å®‰è£…kibana</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker run <span class="token operator">--</span>name kibana <span class="token operator">-</span>p <span class="token number">5601</span><span class="token operator">:</span><span class="token number">5601</span> \
<span class="token operator">-</span>e <span class="token constant">ELASTICSEARCH_HOSTS</span><span class="token operator">=</span>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">101.42</span><span class="token number">.176</span><span class="token number">.90</span><span class="token operator">:</span><span class="token number">9200</span>  \
<span class="token operator">-</span>d kibana<span class="token operator">:</span><span class="token number">7.12</span><span class="token number">.1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="ä¹ã€dockerå®‰è£…rabbitmq"><a href="#ä¹ã€dockerå®‰è£…rabbitmq" class="header-anchor">#</a> ä¹ã€Dockerå®‰è£…rabbitmq</h2> <p>æ‹‰å–é•œåƒ</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> pull rabbitmq:3-management
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å¯åŠ¨å®¹å™¨</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker run \
 <span class="token operator">-</span>e <span class="token constant">RABBITMQ_DEFAULT_USER</span><span class="token operator">=</span>admin \
 <span class="token operator">-</span>e <span class="token constant">RABBITMQ_DEFAULT_PASS</span><span class="token operator">=</span><span class="token number">123456</span> \
 <span class="token operator">--</span>name mq \
 <span class="token operator">--</span>hostname mq1 \
 <span class="token operator">-</span>p <span class="token number">15672</span><span class="token operator">:</span><span class="token number">15672</span> \
 <span class="token operator">-</span>p <span class="token number">5672</span><span class="token operator">:</span><span class="token number">5672</span> \
 <span class="token operator">-</span>d \
 rabbitmq<span class="token operator">:</span><span class="token number">3</span><span class="token operator">-</span>management
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>å‚æ•°è¯´æ˜</p> <ul><li>RABBITMQ_DEFAULT_USER è®¾ç½®é»˜è®¤ç”¨æˆ·--é»˜è®¤ä¸ºguest</li> <li>RABBITMQ_DEFAULT_PASS è®¾ç½®é»˜è®¤ç”¨æˆ·çš„å¯†ç --é»˜è®¤ä¸ºguest</li> <li>hostname ä¸»æœºåç§°ï¼›è‹¥é›†ç¾¤å¯åŠ¨æ¨¡å¼ä¸‹å¿…é¡»æŒ‡å®š</li></ul> <p>4369, 25672 (Erlangå‘ç°&amp;é›†ç¾¤ç«¯å£)
5672, 5671 (AMQPç«¯å£)
15672 (webç®¡ç†åå°ç«¯å£)
61613, 61614 (STOMPåè®®ç«¯å£)
1883, 8883 (MQTTåè®®ç«¯å£)</p> <h2 id="åã€dockerå®‰è£…mysql"><a href="#åã€dockerå®‰è£…mysql" class="header-anchor">#</a> åã€dockerå®‰è£…mysql</h2> <h3 id="æ‹‰å–é•œåƒ-5"><a href="#æ‹‰å–é•œåƒ-5" class="header-anchor">#</a> æ‹‰å–é•œåƒ</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker pull mysql:5.7
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="å¯åŠ¨å®¹å™¨-4"><a href="#å¯åŠ¨å®¹å™¨-4" class="header-anchor">#</a> å¯åŠ¨å®¹å™¨</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker run -p 3306:3306 --name mysql \
-v /home/docker/mysql/log:/var/log/mysql \
-v /home/docker/mysql/data:/var/lib/mysql \
-v /home/docker/mysql/conf:/etc/mysql \
-e MYSQL_ROOT_PASSWORD=root \
-d mysql:5.7
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>å‚æ•°è¯´æ˜
-p 3306:3306ï¼šå°†å®¹å™¨çš„ 3306 ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„ 3306 ç«¯å£
-v /mydata/mysql/conf:/etc/mysqlï¼šå°†é…ç½®æ–‡ä»¶å¤¹æŒ‚è½½åˆ°ä¸»æœº
-v /mydata/mysql/log:/var/log/mysqlï¼šå°†æ—¥å¿—æ–‡ä»¶å¤¹æŒ‚è½½åˆ°ä¸»æœº
-v /mydata/mysql/data:/var/lib/mysql/ï¼šå°†é…ç½®æ–‡ä»¶å¤¹æŒ‚è½½åˆ°ä¸»æœº
-e MYSQL_ROOT_PASSWORD=rootï¼šåˆå§‹åŒ– root ç”¨æˆ·çš„å¯†ç ä¸ºroot</p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/Aismy/aismy.github.io/edit/master/docs/04.å¼€å‘å·¥å…·/02.Dockerå®‰è£….md" target="_blank" rel="noopener noreferrer">åœ¨çº¿ç¼–è¾‘æ­¤æ–‡ç« </a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/4855b0/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Dockerå®ç”¨ç¯‡</div></a> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/4855b0/" class="prev">Dockerå®ç”¨ç¯‡</a></span> <!----></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:752704491@qq.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/Aismy" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2022-2023
    <span>Aismy | MIT License</span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b738e2cf.js" defer></script><script src="/assets/js/2.ffb45a81.js" defer></script><script src="/assets/js/35.da833d69.js" defer></script>
  </body>
</html>
